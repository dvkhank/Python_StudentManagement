{% extends 'layout/base.html' %}
{% block content %}
<div class="container" style="margin-top:120px">
    <h1 class="mb-4">Nhập điểm học sinh</h1>
    <form action="/create_scoresheet/add?student_id_add={{student.id}}" method="post" id="scoresheetForm">
        <table class="table">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Last Name</th>
                <th scope="col">First Name</th>
                {% for i in range(rule_15p.min) %}
                <th scope="col">15p</th>
                {% endfor %}
            </tr>
            </thead>
            <tbody>
            <tr>
                <input type="hidden" name="student_id" value="{{student.id}}">
                <th scope="col"> {{student.id}}</th>
                <td>{{student.last_name}}</td>
                <td>{{student.first_name}}</td>
                {% for i in range(rule_15p.min) %}
                <th scope="col"><input type="number" min="0" max="10" step="0.1" name="score15p"></th>
                {% endfor %}
            </tr>
            </tbody>
        </table>
        <button type="submit">
                Login
            </button>
    </form>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById('scoresheetForm');
        form.addEventListener('submit', function (event) {
            const inputs = form.querySelectorAll('input[type="number"]');
            for (let i = 0; i < inputs.length; i++) {
                if (!inputs[i].value) {
                    alert('Vui lòng nhập đầy đủ điểm số');
                    event.preventDefault(); // Ngăn form được gửi đi nếu có trường chưa nhập
                    return;
                }
            }
        });
    });
</script>
{% endblock %}